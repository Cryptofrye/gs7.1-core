(function(g){g.platformStartTime=Date.now();var d=function(){if(!g.console){g.console={log:function(){},debug:function(){},info:function(){},error:function(){},warn:function(){},fatal:function(){},assert:function(){},trace:function(){}}}if(g.console&&!g.console.debug){g.console.debug=function(){}}if(g.console&&!g.console.warn){g.console.warn=function(){}}};var f=function(){Detect.init({userAgent:window.navigator.userAgent,screenWidth:screen.width,screenHeight:screen.height,devicePixelRatio:window.devicePixelRatio})};var b=function(){var j=Detect.Type.is(Detect.T.Desktop)?"desktop":"mobile";var h=CP.Utils.getParam("runType",false);if(["mobile","desktop"].indexOf(h)!==-1){j=h}if(CP.Utils.getParam("runType")=="mini"){j="miniGame"}if(CP.Utils.getParam("runType")=="nativeapp"){j="mobile"}var i=g.document.createElement("link");var k=g.document.getElementsByTagName("head")[0];k.appendChild(i);i.setAttribute("type","text/css");i.setAttribute("rel","stylesheet");i.setAttribute("href","/games/AgeOfEgyptPTM/platform/css/"+j+"/"+j+"Platform.css");i=g.document.createElement("link");k.appendChild(i);i.setAttribute("type","text/css");i.setAttribute("rel","stylesheet");i.setAttribute("href","/games/AgeOfEgyptPTM/platform/css/"+j+"/"+j+"Brand.css")};var c=function(){return window.Detect.OS.is(window.Detect.O.Android)};var e=function(){return window.Detect.OS.version()};var a=function(){if(Detect.Type.is(Detect.T.Desktop)){return}var h=CP.Utils.getParam("viewport");var i=(window.self!==window.top)&&(CP.Utils.getParam("hub")==="1");h=i&&(h!=="css")?"js":!i&&(h!=="js")?"css":h;if(h==="css"){var j=document.body.className;j+=" css-scaling";document.body.className=j}else{ViewportManager.init()}};window.sendPostMessageToContainer=function(h){parent.postMessage(h,"*")};g.bootPlatform=function(){d();f();b();a();g.ImagePreloader.run()}})(window);
